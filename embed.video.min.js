!function(){"use strict";function e(a,b){e.options.strictMode=b?!1:!0;for(var c=e.options,d=c.parser[c.strictMode?"strict":"loose"].exec(a),f={},g=14;g--;)f[c.key[g]]=d[g]||"";return f[c.q.name]={},f[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(f[c.q.name][b]=d)}),f}function h(a,b){this.arg=a,this.url=e(a,!0);var d={};d.class=b?b.class||"":"",d.id=b?b.id||"":"",d.width=b?b.width||"100%":"100%",d.height=b?b.height||"100%":"100%",this.opt=d;for(var f in c)if(c.hasOwnProperty(f)){var h=this;h[f]=g(c[f],function(a){return a.parse(this.url,function(a,b){var c=b;return b.match(/{{\s*[\w\.]+\s*}}/g).map(function(b){b.match(/eid/)?"object"==typeof a&&null!==a?c=c.replace(new RegExp(b.toString(),"g"),a.source):"string"==typeof a&&null!==a?c=c.replace(new RegExp(b.toString(),"g"),a):null===a&&(c=c.replace(new RegExp(b.toString(),"g"),h.url.source)):c=c.replace(new RegExp(b.toString(),"g"),h.opt[b.substring(2,b.length-2)]||"")}),c})})}}var a,c={youtube:{parse:function(a,b){return a.host.indexOf("youtube.com")>-1&&(a=a.query.v||a.query.replace(/v=/i,"")),"youtu.be"==a.host&&(a=a.path.split("/")[1]),b(a,'<iframe src="https://www.youtube.com/embed/{{eid}}" frameborder="0" allowfullscreen class="{{class}}" id="{{id}}" width="{{width}}" height="{{height}}"></iframe>')}},vimeo:{parse:function(a,b){return a="vimeo.com"==a.host?a.path.split("/")[1]:null,b(a,'<iframe src="https://player.vimeo.com/video/{{eid}}" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen class="{{class}}" id="{{id}}" width="{{width}}" height="{{height}}"></iframe>')}}},d="undefined"!=typeof module&&module.exports;e.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var f=Array.prototype.slice,g=function(a,b){return function(){return b.apply(this,[a].concat(f.call(arguments)))}};h.prototype.id=function(){for(var a in c)if(c.hasOwnProperty(a))return c[a].parse(this.url,function(a){return"object"==typeof a&&null!==a?a.path.split("/")[1]:"string"==typeof a&&null!==a?a:void 0})},a=function(a,b){return new h(a,b)},d&&(module.exports=a),"undefined"==typeof ender&&(this.embed=a),"function"==typeof define&&define.amd&&define([],function(){return a})}.call(this);